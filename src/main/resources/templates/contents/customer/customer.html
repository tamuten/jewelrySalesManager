<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>顧客</title>
</head>
<body>
	<div th:fragment="customer_contents" class="h-100 w-100">
		<div class="content-title border-bottom">
			<h2 th:if="__${displayMode == 'update'}__">顧客詳細</h2>
			<h2 th:if="__${displayMode == 'signup'}__">顧客登録</h2>
		</div>
		<form th:object="${customerForm}" method="post"
			th:action="@{/customer/update}">
			<div th:if="${message}" class="alert alert-success">
				<p th:text="${message}"></p>
			</div>
			<div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
				<th:block th:each="err : ${#fields.errors('*')}">
					<p th:text="${err}">Input is incorrect.</p>
				</th:block>
			</div>
			<div class="w-50">
				<table class="table align-middle">
					<tbody>
						<tr>
							<td>id</td>
							<td th:text="*{id}"></td>
						</tr>
						<tr>
							<td>名前</td>
							<td><input type="text" autocomplete="off"
								class="form-control" th:field="*{name}" /></td>
						</tr>
						<tr>
							<td>カナ</td>
							<td><input type="text" autocomplete="off"
								class="form-control" th:field="*{nameKana}" /></td>
						</tr>
						<tr>
							<td>生年月日</td>
							<td>
							<label for="year">年</label>
								<select id="year" class="custom-select" >
									<option value="">---</option>
									<th:block th:each="i : ${#numbers.sequence(1900, __${#calendars.format(#calendars.createNow(), 'yyyy')}__)}">
										<!--/* <option th:value="${i}" th:text="${i}" th:selected="${i} == ${#dates.year(*{birthday})}"></option> */-->
									</th:block>
								</select>

							<input type="text" autocomplete="off"
								class="form-control date" th:field="*{birthday}" /></td>
						</tr>
						<tr>
							<td>性別</td>
							<td>
								<div class="btn-group btn-group-toggle" data-toggle="buttons">
									<label class="btn btn-outline-secondary"
										th:classappend="*{gender} == 'male' ? 'active'"> <input
										type="radio" th:field="*{gender}" value="male"
										autocomplete="off">男性
									</label> <label class="btn btn-outline-secondary"
										th:classappend="*{gender} == 'female' ? 'active'"> <input
										type="radio" th:field="*{gender}" value="female"
										autocomplete="off">女性
									</label>
								</div>
							</td>
						</tr>
						<tr>
							<td>血液型</td>
							<td>
								<div class="btn-group btn-group-toggle" data-toggle="buttons">
									<th:block th:each="item : ${radioBloodType}">
										<label class="btn btn-outline-secondary"
											th:classappend="*{bloodType} == ${item.value} ? 'active'">
											<input type="radio" th:field="*{bloodType}"
											th:text="${item.key}" th:value="${item.value}"
											autocomplete="off" />
										</label>
									</th:block>
								</div>
							</td>
						</tr>
						<tr>
							<td>住所</td>
							<td><input type="text" autocomplete="off"
								class="form-control" th:field="*{address}" /></td>
						</tr>
						<tr>
							<td>備考</td>
							<td><textarea autocomplete="off" class="form-control"
									th:field="*{memo}"></textarea></td>
						</tr>
						<tr th:if="__${displayMode == 'signup'}__">
							<td>登録日</td>
							<td><input type="text" autocomplete="off"
								class="form-control date" th:field="*{signupDate}" /></td>
						</tr>

					</tbody>
				</table>
				<div class="d-flex justify-content-between">
					<input type="button" class="btn" value="一覧画面へ"
						th:onclick="@{location.href='/customer/list'}" />
					<div th:if="__${displayMode == 'update'}__" class="right-btn-group">
						<input type="submit" class="btn btn-danger" value="削除"
							th:formaction="@{/customer/delete}" /> <input type="submit"
							class="btn btn-primary" value="更新"
							th:formaction="@{/customer/update}" />
					</div>
					<div th:if="__${displayMode == 'signup'}__" class="right-btn-group">
						<input type="submit" class="btn btn-primary" value="登録"
							th:formaction="@{/customer/signup}" />
					</div>
				</div>
			</div>
			<input type="hidden" th:field="*{id}" />
		</form>
		<script type="text/javascript" th:inline="javascript">
			/*<![CDATA[*/

			/*]]>*/
		</script>
	</div>
</body>
</html>